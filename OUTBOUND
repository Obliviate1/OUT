[general]

# resource_parser_url 示例可以在以下网站找到 https://raw.githubusercontent.com/crossutility/Quantumult-X/master/resource-parser.js
resource_parser_url= https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js

geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js

# Quantumult 使用 HEAD 方法将 HTTP 请求发送到服务器检查 url 来测试代理的状态，结果应该是两个延迟，第一个是 TCP 与代理服务器的握手，第二个是 Quantumult 成功地从服务器检查 url 接收 HTTP 响应的总时间。闪电图标表示 TCP Fast Open 成功。如果 [server_local] 或 [server_remote] 中的服务器有自己的 server_check_url，则会用自己的 server_check_url 代替 [general] 中的 server_check_url。
# Quantumult 使用 HTTP HEAD 方法对测试网址 server_check_url 进行网页响应性测试(测试结果为通过该节点访问此网页获得 HTTP 响应所需要的时间)，来确认节点的可用性。
# Quantumult 界面中的延迟测试方式均为网页响应性测试，显示的最终延迟均为通过对应节点访问测试网页获得 HTTP 响应所需要时间。
# 由于 Trojan 协议为无响应校验协议，使得 HTTP 检测方式即使获得了 HTTP 响应，也不代表节点一定可用。
server_check_url=http://cp.cloudflare.com/generate_204

# DNS 排除列表
# dns_exclusion_list 包含了禁用占位符 IP (240.*) 的域，不在 dns_exclusion_list 中的域都启用了占位符 IP，并打开了 resolve-on-remote 设置。
dns_exclusion_list=*.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com

# Quantumult 将不会处理到 excluded_routes 的流量。修改后最好重新启动您的设备。
;excluded_routes=192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
# Hearthstone: 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32
excluded_routes=239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32

# 在网络环境切换时出发运行模式变更
# filter - 规则分流，all_proxy - 全部代理，all_direct - 全部直连
# 示例意思：[蜂窝数据],[Wi-Fi],[SSID]
# 下列示例的意思为：在蜂窝数据使用规则分流(第一个 filter)，在 Wi-Fi 使用规则分流(第二个 filter)，在 SSID 为 LINK_22E171 的 Wi-Fi 使用全部代理，，在 SSID 为 LINK_22E172 的 Wi-Fi 使用全部直连
# Rewrite 及 Task 模块始终生效
;running_mode_trigger=filter, filter, LINK_22E171:all_proxy, LINK_22E172:all_direct

# 在特定 SSID 网络时(除了 Task 模块)暂停 Quantumult X
;ssid_suspended_list=LINK_22E174, LINK_22E175

# 参数 udp_whitelist 从 IP 层控制 UDP 数据是否需要舍弃；如舍弃，则该 UDP 请求不会进入规则模块以及策略模块，TCP/UDP 请求记录中也不会有相应的条目，但仍可在日志中查询到相关信息（日志等级 debug）。
# 该参数控制的是流入 Quantumult X Tunnel 的请求，并非 Quantumult X Tunnel 发出的请求，即不会作用于节点所使用的 UDP 目标端口。
;udp_whitelist=53, 123, 1900, 80-443

# 说明：参数 fallback_udp_policy 的值仅支持末端策略（末端策略为经由规则模块和策略模块后所命中的策略，例如：direct、reject 以及节点；不支持内置策略 proxy 以及其它自定义策略）。默认为 reject。
# 当 UDP 请求经过规则模块以及策略模块后所命中的节点为 Quantumult X 所不支持 UDP 转发的节点（如：VMess、trojan），或支持 UDP 转发但未注明 udp-relay=true 的（例如：SS/SSR 且与服务器是否真实开启 UDP 转发无关），则 fallback_udp_policy 会被使用。
fallback_udp_policy=direct

;icmp_auto_reply=true

[dns]
no-system
no-ipv6
server=119.29.29.29
server=114.114.114.114
server=223.5.5.5
server=8.8.4.4:53

# 本地 DNS 映射
# Firebase Cloud Messaging
address=/mtalk.google.com/108.177.125.188
# Google Dl
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29

# TP-Link
server=/tplogin.cn/system
server=/tplinklogin.net/system
server=/melogin.cn/system
server=/falogin.cn/system

server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.qq.com/119.28.28.28
server=/*.163.com/119.29.29.29
server=/*.netease.com/119.29.29.29
server=/*.mi.com/119.29.29.29


[policy]
static= 🇺🇳 Final,🇭🇰️ 香港, 🇨🇳 台湾, 🇸🇬 新加坡, 🇯🇵 日本, 🇺🇸 美国, proxy, img-url= https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Final.png
static= 🇭🇰️ 香港, server-tag-regex= 香港|🇭🇰️|HK|Hong, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/HK.png
static= 🇨🇳 台湾, server-tag-regex= 台湾|🇨🇳|TW|TaiWan, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/CN.png
static= 🇸🇬 新加坡, server-tag-regex= 新加坡|🇸🇬|SG|Singapore, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/SG.png
static= 🇯🇵 日本, server-tag-regex= 日本|🇯🇵|JP|Japan, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/JP.png
static= 🇺🇸 美国, server-tag-regex= 美国|🇺🇸|US|UnitedStates, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/US.png


[server_remote]
#
# 参数「tag」和「enabled」是可选的。
# 各种远程资源的默认同步时间间隔是 86400 秒。
# 你可以设置 update-interval=172800 来自定义你的自动同步时间间隔(秒)，负数表示禁用自动同步。
#
https://mysub.cc/subscribe/7814/uKrTJZtbuH/ssr/, tag=IPLC, update-interval=172800, opt-parser=false, enabled=true
https://api.pay.pm/api/v1/link/sip002?token=fEvfTpTLe2qAV4Fc, tag=Blink, update-interval=172800, opt-parser=false, enabled=true
https://api.nxtlnodes.com/Subscription/SurgeNodeList?qx=1&sid=19738&token=hGQ8ynM6geD, tag=Amy, update-interval=172800, opt-parser=false, enabled=true
https://configuration.osk2.com/api/v1/client/subscribe?token=60f90a56c1ef5d521c037069491c2a80, tag=Cat, update-interval=172800, opt-parser=false, enabled=true
https://pptp.cloud/api/v1/client/subscribe?token=b84e0edbc3d8ccfcafbd8bac148b0283, tag=MD, update-interval=172800, opt-parser=false, enabled=true

[filter_remote]


[rewrite_remote]
# General
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=🔀General, update-interval=86400, enabled=true


[server_local]


[filter_local]
# Local Area Network 局域网
host-suffix, local, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
# GeoIP China(若启用，则禁用 ChinaIP.list)
geoip, cn, direct
final, 🇺🇳 Final

[rewrite_local]
# [rewrite_local] 完整示例请查看「示例」
# 百度防跳转
^https?:\/\/.*\.baidu\.com url request-header (\r\n)User-Agent:.+(\r\n) request-header $1User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)$2

[task_local]
#
# $task.fetch() 组成一个 HTTP 请求并处理响应，只支持 text body。如果您想要 serial requests 而不是 current requests，可以将 $task.fetch() 嵌入到另一个 $task.fetch() 的完成处理程序中。
#
# 脚本应保存在本地「我的 iPhone - Quantumult X - Scripts」或「iCloud Drive - Quantumult X - Scripts」中。示例：https://github.com/crossutility/Quantumult-X/blob/master/sample-task.js
#
# 默认的 HTTP 请求超时是 10 秒。
#
# 支持 5 或 6 个 cron 字段，不包括命令字段。
#

# [task_local] 完整示例请查看「示例」

[http_backend]
#
# 部署一个本地 HTTP 服务器，并使用 JavaScript 进行数据处理。
# 输入变量为：$reqeust.url、$reqeust.path、$reqeust.headers、$reqeust.body。
# 使用 $done 输出像 $done({status:"HTTP/1.1 200 OK"}, headers:{}, body:"here is a string") 这样的返回响应。
# 此外，您还可以使用签名或任何其他验证方法来验证请求是否合法。
# 部署后您应该通过 http://127.0.0.1:9999/your-path/your-api/. 进行访问。服务器默认监听端口为 9999，您可以在UI中进行更改。
#
# [http_backend] 完整示例请查看「示例」

[mitm]
#
# 只有「hostname」中的 TLS SNI 或目标地址将被 MitM 处理。
#
# 默认情况下，当为 HTTPS 请求启用 MitM 时，Quantumult X 会从原站点获取证书（证书会被缓存），保留大部分需要的原始证书信息，并使用 MitM 的 root CA 重新签名，这是推荐的（也是比较兼容的）MitM 证书创建方式。
#
# 偶尔有些用户喜欢调试 HTTPS 请求，其域名不存在，所以原证书根本不存在。当参数 simple_cert_hostname 出现的时候。其 TLS SNI 名称在 simple_cert_hostname(及 hostname) 中的 HTTPS 请求将使用纯本地生成的 MitM 证书。
#
# 注意！！！您应该始终保护您的 CA 密码和 p12 的私密性。
#
passphrase = 4E747BF0
p12 = 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

skip_validating_cert = true
